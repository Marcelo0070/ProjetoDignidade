<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% block titulo %}Projeto Dignidade{% endblock %}</title>

    <!-- ğŸ§© CSS Principal -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/geral.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tema_escuro.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fonte_grande.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cadastro.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/lista.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css') }}">

    {% block head_extra %}{% endblock %}
</head>
<body>

    <!-- ğŸ” CabeÃ§alho com logo e aÃ§Ãµes -->
    <header>
        <div class="bloco-esquerda">
            <img src="{{ url_for('static', filename='imagens_sistema/logo-dia.png') }}" alt="Logo" class="logo">
            <div class="titulo-central">
                <h1>Projeto Dignidade</h1>
                <p>Sistema Local de GestÃ£o Social</p>
            </div>
        </div>

        <div class="acoes-topo">
            <button id="toggle-dark" onclick="alternarModo()" title="Alternar modo">ğŸŒ</button>
            <button id="botao-fonte" title="Alternar tamanho da fonte">A</button>
        </div>
    </header>

    <!-- ğŸ§­ NavegaÃ§Ã£o principal -->
    <nav>
        <div class="dropdown">
            <a href="{{ url_for('comum.home') }}">ğŸ  InÃ­cio</a>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ‘¤ Cadastro</span>
            <div class="dropdown-content">
                <a href="{{ url_for('pessoa_cadastro.cadastrar_pessoa') }}">Cadastro de Pessoa FÃ­sica</a>
                <a href="{{ url_for('familia_cadastro.cadastrar_familia') }}">Cadastro de FamÃ­lia</a>
                <a href="{{ url_for('voluntarios_cadastro.cadastrar_voluntarios') }}">Cadastro de VoluntÃ¡rio</a>
            </div>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ“‹ Listas</span>
            <div class="dropdown-content">
                <a href="{{ url_for('pessoa_listagem.lista_pessoas') }}">Lista de Pessoas</a>
                <a href="{{ url_for('familia_listagem.lista_familias') }}">Lista de FamÃ­lias</a>
                <a href="{{ url_for('voluntarios_listagem.listar_voluntarios') }}">Lista de VoluntÃ¡rios</a>
            </div>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ“† PresenÃ§as</span>
            <div class="dropdown-content">
                <a href="{{ url_for('presenca_cadastro.cadastrar_presenca') }}">Adicionar PresenÃ§a</a>
                <a href="{{ url_for('presenca_listagem.listar_presencas') }}">Registro de PresenÃ§as</a>
            </div>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ“ Atividades</span>
            <div class="dropdown-content">
                <a href="{{ url_for('atividade_cadastro.cadastrar_atividade') }}">Adicionar Atividade</a>
                <a href="{{ url_for('atividade_listagem.listar_atividades') }}">Registro de Atividades</a>
            </div>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ DoaÃ§Ãµes</span>
            <div class="dropdown-content">
                <a href="{{ url_for('doacao_entrada.registrar_entrada') }}">Entrada de DoaÃ§Ãµes</a>
                <a href="{{ url_for('doacao_saida.registrar_saida') }}">SaÃ­da de DoaÃ§Ãµes</a>
                <a href="{{ url_for('doacao_listagem.listar_doacoes') }}">Registro de DoaÃ§Ãµes</a>
            </div>
        </div>

        <div class="dropdown">
            <span class="dropbtn">ğŸ“… Visitas</span>
            <div class="dropdown-content">
                <a href="{{ url_for('visitas_cadastro.cadastrar_visita') }}">Marcar Visita</a>
                <a href="{{ url_for('visitas_listagem.listar_visitas') }}">Registro de Visitas</a>
            </div>
        </div>
    </nav>

    <!-- ğŸ“¦ ConteÃºdo principal -->
    <main>

        <!-- âœ… Bloco universal para mensagens flash (sucesso ou erro) -->
        {% with mensagens = get_flashed_messages(with_categories=true) %}
        {% if mensagens %}
            {% for categoria, texto in mensagens %}
                <div class="alerta-{{ 'sucesso' if categoria == 'sucesso' else 'erro' }}">{{ texto }}</div>
            {% endfor %}
        {% endif %}
        {% endwith %}

        {% block conteudo %}{% endblock %}
    </main>

    <!-- ğŸ“Œ RodapÃ© -->
    <footer>
        Projeto Dignidade â€” Sistema de GestÃ£o Local | 2025<br>
        <small>Desenvolvido por Marcelo Barbosa da Silva</small>
        <span class="link-backup-area">
            <a href="#" id="fazer-backup" class="link-backup">Fazer Backup</a> /
            <a href="#" id="executar-backup" class="link-backup">Executar Backup</a>
        </span>
    </footer>

    <!-- ğŸ”— JavaScript base (tema escuro, backup, fonte) -->
    <script src="{{ url_for('static', filename='js/base.js') }}"></script>
    <script src="{{ url_for('static', filename='js/utilidades.js') }}"></script>
    {% block scripts %}{% endblock %}

</body>
</html>
